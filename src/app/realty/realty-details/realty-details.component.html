<div id="product" class="page-layout carded fullwidth inner-scroll" *ngIf="realty">

  <!-- TOP BACKGROUND -->
  <div class="top-bg mat-accent-bg"></div>
  <!-- / TOP BACKGROUND -->

  <!-- CENTER -->
  <div class="center">

    <!-- HEADER -->
    <div class="header mat-accent-bg" fxLayout="row" fxLayoutAlign="space-between center">

      <!-- APP TITLE -->
      <div fxLayout="row" fxLayoutAlign="start center">

        <button mat-icon-button class="mr-0 mr-sm-16" [routerLink]="'/realty'">
          <mat-icon>arrow_back</mat-icon>
        </button>

        <div class="product-image mr-8 mr-sm-16">
          <img *ngIf="realty?.photos[0]" [src]="realty?.photos[0]">
          <img *ngIf="!realty?.photos[0]" [src]="'assets/images/ecommerce/product-image-placeholder.png'">
        </div>

        <div fxLayout="column" fxLayoutAlign="start start">
          <div class="h2" *ngIf="pageType ==='edit'">
            {{realty.title}}
          </div>
          <div class="h2" *ngIf="pageType ==='new'">
            New Realty
          </div>
          <div class="subtitle secondary-text">
            <span>Realty Detail</span>
          </div>
        </div>
      </div>
      <!-- / APP TITLE -->

      <button mat-raised-button
              class="save-product-button mat-white-bg"
              [disabled]="realtyForm.invalid"
              *ngIf="pageType ==='new'" (click)="addRealty()">
        <span>ADD</span>
      </button>

      <button mat-raised-button *ngIf="!isEditable"
              class="save-product-button mat-white-bg"
              (click)="editRealty()">
        <span>Edit</span>
      </button>

      <button mat-raised-button *ngIf="isEditable"
              class="save-product-button mat-white-bg"
              (click)="saveRealty()">
        <span>Save</span>
      </button>



    </div>
    <!-- / HEADER -->

    <!-- CONTENT CARD -->
    <div class="content-card mat-white-bg">

      <!-- CONTENT -->
      <div class="content">

        <form name="productForm" [formGroup]="realtyForm" class="product w-100-p" fxLayout="column" fxFlex>

          <mat-tab-group>

            <mat-tab label="Basic Info">

              <div class="tab-content p-24">

                <mat-form-field class="w-100-p">
                  <input matInput
                         name="title"
                         formControlName="title"
                         placeholder="Realty Title"
                         required>
                </mat-form-field>

                <mat-form-field class="w-100-p">
                                  <textarea matInput
                                            name="description"
                                            formControlName="description"
                                            placeholder="Realty Description"
                                            rows="5">
                                  </textarea>
                </mat-form-field>

                <mat-form-field class="w-100-p">
                  <input matInput
                         name="price"
                         formControlName="price"
                         placeholder="Price"
                  >
                </mat-form-field>

                <mat-form-field class="w-100-p">
                  <input matInput
                         name="currency"
                         formControlName="currency"
                         placeholder="Currency"
                  >
                </mat-form-field>

                <mat-form-field class="w-100-p">
                  <input matInput
                         name="area"
                         formControlName="area"
                         placeholder="Area"
                  >

                </mat-form-field>
                <mat-form-field class="w-100-p">
                  <input matInput
                         name="flooring"
                         formControlName="flooring"
                         placeholder="Flooring"
                  >

                </mat-form-field>
                <mat-form-field class="w-100-p">
                  <input matInput
                         name="rooms"
                         formControlName="rooms"
                         placeholder="Rooms Count"
                  >

                </mat-form-field>
                <mat-form-field class="w-100-p">
                  <input matInput
                         name="ownerPhone"
                         formControlName="ownerPhone"
                         placeholder="Owner Phone"
                  >

                </mat-form-field>
                <mat-form-field class="w-100-p">
                  <input matInput
                         name="ownerName"
                         formControlName="ownerName"
                         placeholder="Owner Name"
                  >
                </mat-form-field>
                <mat-form-field class="w-100-p">
                  <input matInput
                         name="floor"
                         formControlName="floor"
                         placeholder="Realty Floor"
                  >
                </mat-form-field>
                <mat-form-field class="w-100-p">
                  <input matInput
                         name="kitchenArea"
                         formControlName="kitchenArea"
                         placeholder="Realty Kitchen Area"
                  >
                </mat-form-field>
              </div>

            </mat-tab>

            <mat-tab label="Realty Images">
              <div class="tab-content p-24">
                <div fxLayout="row wrap" fxLayoutAlign="start start">

                  <div *ngIf="realty?.photos?.length === 0"
                       class="product-image" fxlayout="row" fxLayoutAlign="center center">
                    <img class="media"
                         [src]="'assets/images/ecommerce/product-image-placeholder.png'">
                  </div>

                  <div *ngFor="let image of realty.photos">
                    <div *ngIf="realty?.photos?.length > 0"
                         class="product-image" fxlayout="row" fxLayoutAlign="center center">
                      <img class="media" [src]="image">
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>

          </mat-tab-group>
        </form>

      </div>
      <!-- / CONTENT -->

    </div>
    <!-- / CONTENT CARD -->

  </div>
  <!-- / CENTER -->
</div>
