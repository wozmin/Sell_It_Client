<div id="register" fxLayout="column">

    <div id="register-form-wrapper" fxLayout="column" fxLayoutAlign="center center">

        <div id="register-form" [@animate]="{value:'*',params:{duration:'300ms',y:'100px'}}">

            <div class="logo">
                <img src="assets/images/logos/fuse.svg">
            </div>

            <div class="title">{{'auth.signIn.createAccount' | translate}}</div>

            <form name="registerForm" [formGroup]="registerForm" (ngSubmit)="signUp(registerForm.value)" novalidate>

                <mat-form-field>
                    <input matInput [placeholder]="'auth.fields.userName' | translate" formControlName="username">
                  <mat-error *ngIf="registerForm.get('username').hasError('required')">
                    {{'auth.fields.userName' | translate }} {{'validation.required' | translate}}
                    </mat-error>
                  <mat-error *ngIf="registerForm.get('username').hasError('invalid')">
                    {{errors?.username}}
                  </mat-error>
                </mat-form-field>

              <mat-form-field>
                <input matInput [placeholder]="'auth.fields.firstName' | translate" formControlName="firstName">
                <mat-error *ngIf="registerForm.get('firstName').hasError('required')">
                  {{'auth.fields.firstName' | translate }} {{'validation.required' | translate}}
                </mat-error>
                <mat-error *ngIf="registerForm.get('firstName').hasError('invalid')">
                  {{errors?.firstName}}
                </mat-error>
              </mat-form-field>

              <mat-form-field>
                <input matInput [placeholder]="'auth.fields.lastName' | translate" formControlName="lastName">
                <mat-error *ngIf="registerForm.get('lastName').hasError('required')">
                  {{'auth.fields.lastName' | translate }} {{'validation.required' | translate}}
                </mat-error>
                <mat-error *ngIf="registerForm.get('lastName').hasError('invalid')">
                  {{errors?.lastName}}
                </mat-error>
              </mat-form-field>

              <mat-form-field>
                    <input matInput placeholder="Email" formControlName="email">
                    <mat-error *ngIf="registerForm.get('email').hasError('required')">
                        Email {{'validation.required' | translate}}
                    </mat-error>
                    <mat-error *ngIf="registerForm.get('email').hasError('pattern')">
                        {{'validation.emailAddress' | translate}}
                    </mat-error>
                  <mat-error *ngIf="registerForm.get('email').hasError('invalid')">
                    {{errors?.email}}
                  </mat-error>
                </mat-form-field>

              <mat-form-field>
                <input matInput [placeholder]="'auth.fields.phone' | translate" formControlName="phone">
                <mat-error *ngIf="registerForm.get('phone').hasError('required')">
                  {{'auth.fields.phone' | translate}} {{'validation.required' | translate}}
                </mat-error>
                <mat-error *ngIf="registerForm.get('phone').hasError('pattern')">
                  {{'auth.fields.phone' | translate}} {{'validation.invalid' | translate}}
                </mat-error>
                <mat-error *ngIf="registerForm.get('phone').hasError('invalid')">
                  {{errors?.phone}}
                </mat-error>
              </mat-form-field>

                <mat-form-field>
                    <input matInput type="password" [placeholder]="'auth.fields.password' | translate" formControlName="password">
                    <mat-error *ngIf="registerForm.get('password').hasError('required')">
                      {{'auth.fields.password' | translate}} {{'validation.required' | translate}}
                    </mat-error>
                  <mat-error *ngIf="registerForm.get('password').hasError('minlength')" >
                    {{'auth.fields.password' | translate}} {{'validation.minLength' | translate }}
                  </mat-error>
                  <mat-error *ngIf="registerForm.get('password').hasError('invalid')">
                    {{errors?.password}}
                  </mat-error>
                </mat-form-field>

                <mat-form-field>
                    <input matInput type="password" [placeholder]="'auth.fields.confirmPassword' | translate" formControlName="passwordConfirm">
                    <mat-error *ngIf="registerForm.get('passwordConfirm').hasError('required')">
                        Password confirmation {{'validation.required' | translate}}
                    </mat-error>
                    <mat-error *ngIf="!registerForm.get('passwordConfirm').hasError('required') &&
                                       registerForm.get('passwordConfirm').hasError('passwordsNotMatching')">
                        {{'auth.fields.passwords' | translate}} {{'auth.validation.match'}}
                    </mat-error>
                </mat-form-field>
              <mat-radio-group formControlName="gender" fxLayoutAlign="space-around">
                <mat-radio-button value="Male">{{'auth.fields.gender.male' | translate }}</mat-radio-button>
                <mat-radio-button value="Female">{{'auth.fields.gender.female' | translate }}</mat-radio-button>
              </mat-radio-group>

                <button mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT"
                        [disabled]="registerForm.invalid">
                  {{'auth.signIn.createAccount' | translate}}
                  <mat-spinner diameter="20" *ngIf="showSpinner" class="btn-spinner"></mat-spinner>
                </button>

            </form>

            <div class="register" fxLayout="column" fxLayoutAlign="center center">
                <span class="text">{{'auth.signUp.haveAccount' | translate}} ?</span>
                <a class="link" [routerLink]="'/sign-in'">{{'auth.signIn.login' | translate}}</a>
            </div>

        </div>

    </div>

</div>
